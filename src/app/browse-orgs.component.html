<div class="col-md-7 browse-orgs" *ngIf="!isLoading">
<!-- 	<h2>Featured Organizations</h2>
	<div class="single-item row"
			*ngFor="let org of featuredOrgs"
			(click)="viewFeaturedOrg(org._id)"
			(clickOutside)="deselectFeaturedOrg($event, org._id)">
		<h5>{{org.name}}</h5>
		<p>{{org.stars}}</p>

		<div class="org-expanded" *ngIf="viewingFeaturedOrg && org._id === selectedFeaturedOrg._id">
			<org-details (update)="sendInfoMsg($event.body, $event.type)" [org]="selectedFeaturedOrg"></org-details>
			<a *ngIf="org.slug" href="/organization/{{org.slug}}">View Org Page</a>
			<a *ngIf="!org.slug" href="/organization/i/{{org._id}}">View Org Page</a>
			<org-posts [org]="selectedFeaturedOrg" [isBrowsing]="true"></org-posts>
		</div>
	</div> -->

	<header class="row col-md-12">
		<div class="row">
			<h2>Organizations</h2>
			<p class="subtitle">People doing important work right now</p>
			<search-box
			class="search-box-container clearfix"
			*ngIf="!isLoading"
			(update)="searchOrgs($event)"
			(focusChange)="toggleSearchBoxFocus($event)"
			[ngClass]="{focused: searchBoxIsFocused}"
			[collection]="'organizations'"></search-box>
			<select *ngIf="!isLoading"
					[value]="categoryFilter"
					(change)="filterByCategory($event.target.value); searchOrgs(searchText)">
				<option value="">All categories</option>
				<option *ngFor="let category of categoriesList" value="{{category}}">{{category}}</option>
			</select>

			<p class="info" *ngIf="orgsShowing">Showing {{orgsShowing || ''}} organization<span *ngIf="orgsShowing != 1">s</span></p>
			<p class="info" *ngIf="categoryFilter">
				Category: {{categoryFilter}}&nbsp;&nbsp;
				<button class="mini" (click)="filterByCategory(''); searchOrgs(searchText)"><i class="fa fa-undo"></i>Clear filter</button>
			</p>
		</div>
	</header>

	<section class="row items-list orgs-list col-md-12"
			*ngIf="!isEditing">

		<div *ngIf="orgs.length === 0">
				No orgs to show. Try broadening your search.
		</div>

		<div class="org single-item row"
				#singleItem
				*ngFor="let org of orgs"
				(click)="viewOrg(org._id)"
				(clickOutside)="deselectOrg($event, org._id)">

			<header [ngStyle]="{'background-image': 'url(' + org.coverImage + ')'}">
				<img class="org-avatar" *ngIf="org.avatar" [src]="org.avatar" [alt]="org.name">
				<h5>{{org.name}}</h5>
				<p class="info" *ngIf="viewingOrg && org._id === selectedOrg._id">
					<span class="star unstarred" *ngIf="user && !orgIsStarred(org)" (click)="starOrg(org._id)"><i class="fa fa-star-o"></i></span>
					<span class="star starred" *ngIf="user && orgIsStarred(org)" (click)="unstarOrg(org._id)"><i class="fa fa-star"></i></span>
					{{org.stars}} people starred this
				</p>
				<span (click)="deselectOrg($event, org._id)" *ngIf="viewingOrg && org._id === selectedOrg._id">X</span>
			</header>

			<div class="org-expanded" *ngIf="viewingOrg && org._id === selectedOrg._id">
				<org-details (update)="sendInfoMsg($event.body, $event.type)" [org]="selectedOrg"></org-details>
				<a *ngIf="org.slug" href="/organization/{{org.slug}}">View Org Page</a>
				<a *ngIf="!org.slug" href="/organization/i/{{org._id}}">View Org Page</a>
				<org-posts [org]="selectedOrg" [isBrowsing]="true"></org-posts>
			</div>
		</div>
		
		<button id="show-more" class="row btn btn-default" (click)="showMore(10, orgs.length)">Show more</button>
	</section>

	<div class="loader loading-org-search" *ngIf="isLoading">
	  <div class="loader__figure"></div>
	  <p class="loader__label">Loading organizations</p>
	</div>
</div>

<div class="col-md-5 browse-posts" *ngIf="!isLoading">
	<org-posts [user]="user" [isBrowsing]="true"></org-posts>
</div>

<div class="loader" *ngIf="isLoading">
  <div class="loader__figure"></div>
  <p class="loader__label"><img src="images/logo-color-2x.png" width="30"></p>
</div>

